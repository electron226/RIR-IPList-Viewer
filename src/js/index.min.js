(function(){var q,r,h,s,j,t,u,n,o,m,k,i,l,p,g;g=150;p="undefined"!==typeof exports&&null!==exports?exports:this;$.fn.state=function(a){return this.each(function(){var b;b=$(this);b.html(b.data()[a]);return"loading"===a?b.addClass("disabled").attr("disabled","disabled"):b.removeClass("disabled").removeAttr("disabled")})};l=NaN;i=[];$.fn.UpdateTable=function(a){var b;$("#load_circle").css("display","inline");b=$(this);b.state("loading");return $.getJSON("/json",a,function(a){i=a;m(0,g);a={view_record:g,
total_record:a.length,nav_count:5};l=$("#view_pages").pagination(a);b.state("complete");return $("#load_circle").css("display","none")})};p.GetViewTable=function(a){m((a-1)*g,a*g);return l.MakeNavigator(a)};m=function(a,b){var e,d,c;d="";for(e=c=a;a<=b?c<b:c>b;e=a<=b?++c:--c)null!=i[e]&&(d+="<tr>",d+="<td>"+escape(i[e].registry)+"</td>",d+="<td>"+escape(i[e].country)+"</td>",d+="<td>"+escape(i[e].StartIP)+"</td>",d+="<td>"+escape(i[e].EndIP)+"</td>",d+="</tr>");return $("#viewbar tbody").html(d)};
p.ChangeRow=function(a){g=a;$("#view_row .active").removeClass("active");$("#view_row li:eq("+n(a)+")").addClass("active");if(l)return m(0,g),a={view_record:g,total_record:l.total_record,nav_count:5},l=$("#view_pages").pagination(a)};n=function(a){return a/50-1};$.fn.pagination=function(a){a.elements=null!=a.elements?a.elements:$(this);return new o(a)};$.fn.pagination.defaults={current_page:1,view_record:10,total_record:0,nav_count:5};o=function(a){a=$.extend({},$.fn.pagination.defaults,a);this.current_page=
a.current_page;this.view_record=a.view_record;this.total_record=a.total_record;this.total_page=Math.ceil(this.total_record/this.view_record);this.nav_count=a.nav_count;this.elements=a.elements;this.Initialized();return this};o.prototype={Initialized:function(){this.total_page<this.nav_count&&(this.nav_count=this.total_page);if(1>=this.total_page||this.total_page<this.current_page)return this.elements.empty(),this.elements.css("display","none");this.MakeNavigator(this.current_page);return this.elements.css("display",
"block")},MakeNavigator:function(a){var b,e,d,c,f;this.elements.empty();e=Math.floor(this.nav_count/2);b=a-e;d=a+e;0>=b&&(b=1,d=this.nav_count);d>this.total_page&&(b=this.total_page-this.nav_count+1,d=this.total_page);c="<ul>";c=(2<a?c+'<li class="first">':c+'<li class="first active">')+'<a href="#" onclick="GetViewTable(1)">&laquo;</a></li>';c=(1<a?c+'<li class="prev">':c+'<li class="prev active">')+('<a href="#" onclick="GetViewTable('+(a-1)+')">&lsaquo;</a></li>');for(e=f=b;b<=d?f<=d:f>=d;e=b<=
d?++f:--f)c=e===a?c+'<li class="page active">':c+'<li class="page">',c+='<a href="#" onclick="GetViewTable('+e+')">'+e+"</a></li>";c=a<this.total_page?c+'<li class="next">':c+'<li class="next active">';c+='<a href="#" onclick="GetViewTable('+(a+1)+')">&rsaquo;</a></li>';c=a<this.total_page-1?c+'<li class="last">':c+'<li class="last active">';c+='<a href="#" onclick="GetViewTable('+this.total_page+')">&raquo;</a></li>';return this.elements.append(c+"</ul>")}};$("#registry .save").click(function(){var a,
b,e,d,c;d=$("#registry .rir:checked");c=[];b=0;for(e=d.length;b<e;b++)a=d[b],c.push(a.value);$(this).UpdateTable({registry:c.join(",")});return t.click()});$("#country .save").click(function(){var a,b,e,d,c;d=$("#country .cc:checked");c=[];b=0;for(e=d.length;b<e;b++)a=d[b],c.push(a.value);$(this).UpdateTable({country:c.join(",")});return u.click()});$("#registry .rir").click(function(){if($("#registry_all").attr("checked"))return $("#registry_all").removeAttr("checked")});$("#country .cc").click(function(){if($("#country_all").attr("checked"))return $("#country_all").removeAttr("checked")});
$("#registry .all").click(function(){return this.checked?$("#registry input").attr("checked","checked"):$("#registry input").removeAttr("checked")});$("#country .all").click(function(){return this.checked?$("#country input").attr("checked","checked"):$("#country input").removeAttr("checked")});u=$("#registry .clear").click(function(){return $("#registry input").removeAttr("checked")});t=$("#country .clear").click(function(){return $("#country input").removeAttr("checked")});k=$("#custom input");j=
function(a){var b;b=k.attr("value");return k.attr("value",b+a)};$("#custom .set_registry").click(function(){j("<REGISTRY>");return h.keyup()});$("#custom .set_country").click(function(){j("<CC>");return h.keyup()});$("#custom .set_ipstart").click(function(){j("<IPSTART>");return h.keyup()});$("#custom .set_ipend").click(function(){j("<IPEND>");return h.keyup()});r=$("#custom .reset").click(function(){q.click();j("<CC>: <IPSTART>-<IPEND>");return h.keyup()});q=$("#custom .clear").click(function(){k.attr("value",
"");return $("#custom .result").text("")});h=k.keyup(function(){var a,b;b=$(this).attr("value");b=$.trim(b);a=b.replace(/<REGISTRY>/g,"APNIC");a=a.replace(/<CC>/g,"JP");a=a.replace(/<IPSTART>/g,"192.168.0.0");a=a.replace(/<IPEND>/g,"192.168.0.255");$("#custom .result").text(a);var e,d,c,f;c=$("#registry .rir:checked");f=[];e=0;for(d=c.length;e<d;e++)a=c[e],f.push(a.value);var g;c=$("#country .cc:checked");g=[];e=0;for(d=c.length;e<d;e++)a=c[e],g.push(a.value);0<f.length?(a=f.join(","),a="?registry="+
a):(a=g.join(","),a="?country="+a);return $("#custom .result_url").text(encodeURI(location.protocol+"//"+location.host+"/jsoncustom"+a+"&settings="+b))});$("#custom .download").click(function(){var a,b,e,d,c;c=$("#registry .rir:checked");b=[];e=0;for(d=c.length;e<d;e++)a=c[e],b.push(a.value);var f;f=$("#country .cc:checked");e=[];d=0;for(c=f.length;d<c;d++)a=f[d],e.push(a.value);if(0<b.length&&0<e.length)return alert("\u30ec\u30b8\u30b9\u30c8\u30ea\u5074\u3001\u56fd\u540d\u5074\u306e\u4e21\u65b9\u306e\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306b\u30c1\u30a7\u30c3\u30af\u304c\u5165\u3063\u3066\u3044\u307e\u3059\u3002\n\u3069\u3061\u3089\u304b\u7247\u65b9\u306e\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u3092\u30af\u30ea\u30a2\u3057\u3066\u3001\u518d\u5ea6\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002");
if(0===b.length&&0===e.length)return alert("\u30ec\u30b8\u30b9\u30c8\u30ea\u5074\u3001\u56fd\u540d\u5074\u306e\u4e21\u65b9\u306e\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306b\u30c1\u30a7\u30c3\u30af\u304c\u5165\u3063\u3066\u3044\u307e\u305b\u3093\u3002\n\u3069\u3061\u3089\u304b\u7247\u65b9\u306e\u53d6\u5f97\u3057\u305f\u3044\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u3092\u9078\u629e\u3057\u3066\u3001\u518d\u5ea6\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002");a=k.attr("value");a=
$.trim(a);0<b.length?(b=b.join(","),b="?registry="+b):(b=e.join(","),b="?country="+b);return location.href=encodeURI("/jsoncustom"+b+"&settings="+a)});$("#custom").ready(function(){return r.click()});$(".navbar [href=#custom]").click(function(){return h.keyup()});s=function(){var a;a=navigator.appVersion.toLowerCase();if(-1<a.indexOf("msie"))return parseInt(a.replace(/.*msie[ ]/,"").match(/^[0-9]+/))};$(document).ready(function(){var a;$("#JavaScript_OFF").css("display","none");9>s()&&$("#NoBrowser").css("display",
"block");$("#view_row li:eq("+n(g)+")").addClass("active");a=$("#movepage");a.hide();return $(function(){$(window).scroll(function(){return 100<$(this).scrollTop()?a.fadeIn():a.fadeOut()});return a.click(function(){$("body, html").animate({scrollTop:0},600);return!1})})})}).call(this);
